# TradingAgents: Multi-Agents LLM Financial Trading Framework

### 1. 핵심 주장과 주요 기여

TradingAgents의 핵심 주장은 **다중 에이전트 협력 시스템이 실제 거래 회사의 조직 구조를 모방함으로써 금융 거래 성능을 획기적으로 향상할 수 있다**는 것입니다. 이 연구는 기존의 단일 에이전트 시스템이나 데이터를 독립적으로 수집하는 다중 에이전트 프레임워크의 한계를 극복하고자 합니다.[1]

주요 기여는 다음과 같습니다:[1]

**1) 현실적인 조직 모델링**: 펀더멘탈 분석가, 감정 분석가, 기술 분석가, 다양한 리스크 프로필을 가진 거래자, 강세/약세 연구원, 리스크 관리팀 등 7개의 전문화된 역할을 정의하여 실제 거래 회사의 동적 협력 과정을 시뮬레이션합니다.

**2) 구조화된 통신 프로토콜**: 기존의 자연언어 기반 에이전트 간 통신으로 인한 "전화 게임 효과"(장시간 대화에서 정보 손실)를 해결하기 위해, 구조화된 문서와 다이어그램 기반의 통신 프로토콜을 도입합니다.

**3) 하이브리드 추론 구조**: 정확성을 위한 구조화된 출력과 유연성을 위한 자연언어 대화를 결합하여 에이전트 간 토론과 협력을 촉진합니다.

**4) 우수한 성능**: 누적 수익 최소 23.21%, 연간 수익 최소 24.90%, Sharpe ratio 5.60 이상, 최대 낙폭(MDD) 2.11 이하를 달성하며 기존 베이스라인을 6배 이상 상회합니다.[1]

### 2. 문제 정의, 제안 방법, 모델 구조 및 성능

#### 2.1 해결하고자 하는 문제

TradingAgents는 두 가지 주요 문제를 제시합니다:[1]

**A) 현실적 조직 모델링의 부재**: 기존 프레임워크들은 좁은 범위의 과제 성능에만 집중하여 실제 거래 회사의 워크플로우와 운영 절차를 반영하지 못합니다.

**B) 비효율적 통신 인터페이스**: 대부분의 시스템이 자연언어를 주요 통신 매체로 사용하면서, 긴 메시지 히스토리와 비구조화된 정보 풀로 인한 정보 손실과 상태 부패(state corruption)가 발생합니다.

#### 2.2 제안하는 방법

TradingAgents의 주요 방법론은 **ReAct 프롬프팅 프레임워크**를 기반으로 하며, 다음과 같이 구성됩니다:[1]

**Agent Interaction Protocol** (에이전트 상호작용 프로토콜):

구조화된 통신 체계는 다음과 같습니다:

$$\text{Communication State} = \{\text{Analyst Reports}, \text{Debate Records}, \text{Risk Assessments}, \text{Trading Decisions}\}$$

각 팀별 통신 형태:[1]

- **분석가팀(I)**: 각 분석가가 자신의 전문 영역에 대한 분석 리포트를 작성
- **연구팀(II)**: $n$라운드의 자연언어 토론 진행, 토론 진행자가 결과를 구조화된 입력으로 기록
- **거래자(III)**: 분석가 리포트를 검토하고 명확한 거래 신호 생성
- **리스크 관리팀(IV)**: 3가지 관점(공격적, 중립, 보수적)에서 $n$라운드 토론
- **펀드 매니저(V)**: 리스크 관리팀의 토론을 검토하고 최종 거래 결정 승인

#### 2.3 모델 구조

**5계층 아키텍처**:[1]

| 계층 | 담당 에이전트 | 역할 | LLM 유형 |
|------|----------|------|---------|
| I. 분석가팀 | 펀더멘탈/감정/뉴스/기술 분석가 | 시장 정보 수집 분석 | Deep-thinking |
| II. 연구팀 | 강세/약세 연구원 | 위험/수익 평가 | Deep-thinking |
| III. 거래자 | 거래 에이전트 | 거래 의사결정 | Deep-thinking |
| IV. 리스크 관리팀 | 공격적/중립/보수적 에이전트 | 노출도 모니터링 | Deep-thinking |
| V. 펀드 매니저 | 관리 에이전트 | 최종 결정 승인 | Quick-thinking |

**주요 기술적 특징**:[1]

1. **다중 LLM 선택**: 빠른 작업에는 gpt-4o-mini/gpt-4o, 심화 추론에는 o1-preview 사용
2. **도구 통합**: 웹 검색, 재정 API, 기술 지표 계산, 감정 분석 등의 도구 활용
3. **글로벌 상태 관리**: 모든 에이전트가 공유하는 글로벌 상태를 통해 일관성 유지

**누적 수익(CR) 계산 공식**:[1]

$$CR = \frac{V_{end} - V_{start}}{V_{start}} \times 100$$

여기서 $V_{end}$는 시뮬레이션 종료 시의 포트폴리오 가치, $V_{start}$는 초기 포트폴리오 가치입니다.

**연간 수익(AR) 계산 공식**:[1]

$$AR = \left(\frac{V_{end}}{V_{start}}\right)^{\frac{1}{N}} - 1 \times 100$$

여기서 $N$은 시뮬레이션 기간의 연수입니다.

**Sharpe Ratio 계산 공식**:[1]

$$SR = \frac{\bar{R} - R_f}{\sigma}$$

여기서 $\bar{R}$은 평균 포트폴리오 수익, $R_f$는 무위험 수익률(예: 3개월 국채 수익률), $\sigma$는 포트폴리오 수익률의 표준편차입니다.

**최대 하락(MDD) 계산 공식**:[1]

$$MDD = \max_{t \in [0,T]} \frac{\text{Peak}_t - \text{Trough}_t}{\text{Peak}_t} \times 100$$

#### 2.4 성능 향상 분석

**성능 비교 결과**(2024년 1월 1일~3월 29일 백테스트, AAPL/GOOGL/AMZN):[1]

| 모델 | CR (%) | AR (%) | SR | MDD |
|------|--------|--------|-----|------|
| Buy & Hold | -5.23 | -5.09 | -1.29 | 11.90 |
| MACD | -1.49 | -1.48 | -0.81 | 4.53 |
| KDJ/RSI | 2.05 | 2.07 | 1.64 | 1.09 |
| ZMR | 0.57 | 0.57 | 0.17 | 0.86 |
| SMA | -3.2 | -2.97 | -1.72 | 3.67 |
| **TradingAgents** | **26.62** | **30.5** | **8.21** | **0.91** |
| 개선율 | +24.57% | +28.43% | +6.57 | - |

특히 AAPL의 경우, 시장 변동성이 높았던 기간에도 26% 이상의 수익률을 달성하여 변동성이 큰 환경에서 우수한 적응성을 보였습니다.[1]

#### 2.5 주요 한계

연구논문에서 명시된 한계:[1]

1. **제한된 백테스트 기간**: 3개월(2024.1.1~3.29)에 제한된 이유는 LLM 호출과 도구 사용의 집약적 특성 때문입니다(하루 약 11개 LLM 호출, 20개 도구 호출).

2. **높은 Sharpe Ratio의 원인 불명확성**: 보고된 SR이 5.60 이상(최고 8.21)으로 매우 높은데, 논문은 이를 백테스트 기간에 큰 되돌림(pullback)이 적었기 때문으로 설명합니다.

3. **라이브 거래 검증 부재**: 과거 데이터에 대한 백테스트만 수행되었으며, 실제 시장 배포에서의 성능은 미검증입니다.

4. **한정된 자산군**: 주로 대형 기술주(AAPL, NVDA, MSFT, META, GOOGL)를 대상으로 하여 다른 자산군(소형주, 채권 등)에서의 일반화 가능성은 미지수입니다.

### 3. 모델의 일반화 성능 향상 가능성 중심 분석

#### 3.1 일반화 문제의 중요성

금융 시장은 **비정상적 시계열 특성**(non-stationary time series)을 가지고 있습니다. 따라서 과거 데이터로 학습한 모델이 미래의 분포가 다른 데이터에 대해 성능을 유지해야 합니다. 최근 연구에 따르면 시계열 분포 편향(domain shift)이 일어날 때 모델의 성능이 급격히 저하되는 경향이 있습니다.[2]

#### 3.2 TradingAgents의 일반화 강점

**1) 구조화된 의사결정 프로세스**: 
에이전트 기반 구조화된 통신 프로토콜은 시장 환경 변화에 대한 적응력을 높입니다. 각 에이전트가 특정 역할에 특화되어 있어서, 새로운 시장 조건에서도 관련 정보를 유효하게 처리할 수 있습니다.[1]

**2) 다중 관점 토론 메커니즘**:
강세/약세 연구원 간의 토론 구조는 단일 시점의 편향을 줄입니다. 최근 연구(FinDebate)에서 다중 에이전트 토론이 외부 분포(out-of-distribution) 데이터에 더 견고한 의사결정을 제공함을 보여주었습니다.[3]

**3) 리스크 관리 통합**:
공격적/중립/보수적 관점을 모두 고려하는 리스크 관리팀은 시장 변동성이 급변하는 상황에서도 포트폴리오를 보호합니다.[1]

#### 3.3 일반화 개선을 위한 제안 방안

**A) 다중 시간대 학습**:

```math
\text{Generalization Score} = \frac{1}{N} \sum_{i=1}^{N} \text{Performance}(\text{market\_regime}_i)
```

다양한 시장 환경(상승장, 하락장, 횡보장)에 대한 성능을 별도로 평가하고, 평균 성능을 일반화 지표로 삼을 수 있습니다.

**B) 도메인 적응 기법**:

최근 FLAG-TRADER 연구에서 제시된 방식처럼, 파라미터 효율적 미세조정(Parameter-Efficient Fine-Tuning)을 통해 새로운 시장 조건에 빠르게 적응할 수 있습니다:[4]

$$\text{Adaptation Loss} = \mathcal{L}_{task} + \lambda \cdot \mathcal{L}_{regularization}$$

여기서 $\mathcal{L}\_{task}$는 거래 성과 손실, $\mathcal{L}_{regularization}$은 정규화 손실입니다.

**C) 시계열 분해 기법**:

시계열을 추세(trend), 계절성(seasonality), 잔차(residual)로 분해하여 각 성분별로 일반화 능력을 평가할 수 있습니다:[2]

$$X_t = T_t + S_t + R_t$$

여기서 $T_t$는 추세, $S_t$는 계절 성분, $R_t$는 잔차입니다.

**D) 강화학습 기반 적응**:

최근 ATLAS 연구에서 제시된 Adaptive-OPRO(Adaptive Optimization Process)는 실시간 피드백을 통해 프롬프트를 동적으로 최적화하여 시장 변화에 대응합니다.[5]

#### 3.4 현재 평가 및 한계

TradingAgents의 현재 일반화 성능:

**긍정적 측면**:
- AAPL, GOOGL, AMZN 등 3개 종목에서 일관되게 우수한 성능 달성[1]
- 다중 관점 토론으로 인한 편향 감소
- 구조화된 통신으로 인한 안정적 의사결정[1]

**부정적 측면**:
- 단일 기간(2024.1.1~3.29)에 대한 평가로 다른 시장 환경에서의 성능 미검증[1]
- 기술주 중심 평가로 다른 섹터(금융, 헬스케어, 에너지)에서의 성능 불명확[1]
- 극단적 시장 이벤트(급락, 거래 정지)에 대한 대응 방안 미제시[1]

### 4. 향후 연구에 미치는 영향과 고려사항

#### 4.1 학문적 영향

**1) 다중 에이전트 협력 패러다임의 확립**:
TradingAgents는 금융 거래뿐 아니라 복잡한 의사결정이 필요한 다른 도메인(의료, 법률, 공학)에서도 다중 에이전트 협력 구조의 효과성을 시사합니다.[6][7][8][9]

**2) 구조화된 통신의 중요성**:
자연언어 기반 통신의 한계를 극복하는 구조화된 프로토콜의 도입은 장시간 다중 에이전트 상호작용이 필요한 모든 분야에 적용 가능합니다.[10][6]

**3) LLM 기반 추론-행동 통합**:
ReAct 프레임워크의 효과성을 금융 거래에서 증명하여 다른 실시간 의사결정 시스템으로의 확대를 지원합니다.

#### 4.2 최신 연구 동향 및 발전 방향

**A) 적응형 프롬프트 최적화**:
ATLAS 프레임워크는 Adaptive-OPRO를 통해 실시간 시장 피드백을 프롬프트에 반영하여 성능을 지속적으로 개선합니다. TradingAgents는 이를 도입하여 더욱 강력한 일반화 능력을 갖출 수 있습니다.[5]

**B) 반사적 학습과 경험 정제**:
FinCon 프레임워크가 제시한 "개념적 언어 강화(Conceptual Verbal Reinforcement)" 기법을 통해 거래 에이전트가 과거 거래 결과로부터 체계적 신념을 업데이트하고 향후 거래에 적용할 수 있습니다.[6]

**C) 마켓 메이킹 원리의 적용**:
최신 연구는 다중 에이전트 간의 신념 교환을 시장 메커니즘처럼 모델링하여 자체 정정 가능한 시스템을 구축하는 방법을 제시합니다. 이는 TradingAgents의 에이전트 간 토론 메커니즘을 더욱 수학적으로 기초지을 수 있습니다.[11]

**D) 시계열 분포 외삽 기법**:
최근 시계열 일반화 연구에서 제시된 분해 기반 방법, 불변 학습(Invariant Learning), 앙상블 학습 등은 금융 시계열의 비정상성으로 인한 성능 저하를 완화하는 데 활용될 수 있습니다.[2]

**E) 다중 LLM 오케스트레이션**:
GWise 프레임워크와 같이 그래프 기반 다중 에이전트 구조를 통해 에이전트 간 관계를 명시적으로 모델링하여 더욱 복잡한 협력이 가능해질 수 있습니다.[9]

#### 4.3 실무 적용 시 고려사항

**1) 라이브 거래 검증**:
백테스트 성능이 높다고 해서 실제 시장에서의 성능이 보장되지 않습니다. 소규모 자본으로 시작하는 "페이퍼 트레이딩" 또는 제한된 거래량에서의 라이브 테스트가 필수입니다.

**2) 슬리피지와 거래 비용**:
현재 백테스트는 이상적인 거래 실행을 가정하지만, 실제 시장에서는 슬리피지(slippage)와 수수료(commission)가 성능에 중대한 영향을 미칩니다.

**3) 규제 준수**:
금융 거래 에이전트의 실제 배포는 SEC(미국 증권거래위원회), ESMA(유럽증권시장청) 등의 규제를 준수해야 합니다.

**4) 시장 변화에 대한 적응**:
시장 구조 변화(예: 마이크로플래시 크래시, 새로운 거래 알고리즘의 등장)에 대응하기 위해 모니터링 및 재학습 체계가 필요합니다.

#### 4.4 구체적 개선 방안

**1) 확장된 자산군 포함**:
현재 기술주 중심에서 벗어나 다양한 섹터(금융, 헬스케어, 기초산업), 국제 시장, 암호화폐 등으로 평가 범위를 확대합니다.

**2) 장기 백테스트**:
제한된 3개월 기간에서 벗어나 최소 2~3년 이상의 다양한 시장 환경(강세장, 약세장, 변동성 환경)을 포함한 장기 백테스트를 수행합니다.

**3) 적대적 거래 환경 시뮬레이션**:
의도적으로 모델을 혼동시키는 시나리오(보도 충격, 정책 변화, 지정학적 사건)에 대한 대응력 평가:[4]

$$\text{Robustness Score} = \min_{adversarial scenario} \text{Performance}$$

**4) 설명 가능성 강화**:
각 거래 결정에 대해 어느 에이전트가 어떤 정보에 기반하여 결정했는지를 추적하는 감시 시스템 개발.[7]

### 결론

TradingAgents는 **구조화된 다중 에이전트 협력, 실시간 토론, 계층화된 리스크 관리**라는 혁신적 접근으로 금융 거래 분야에 중요한 기여를 했습니다. 특히 기존 단순 규칙 기반 전략을 6배 이상 상회하는 성능은 LLM 기반 금융 에이전트의 잠재력을 명확히 보여줍니다.

그러나 **제한된 평가 기간, 단일 섹터 집중, 라이브 거래 검증 부재**는 일반화 성능 평가의 주요 한계입니다. 향후 연구는 다양한 시장 환경에서의 적응형 학습, 실시간 피드백 기반 프롬프트 최적화, 그리고 극단적 시나리오에 대한 대응성 강화에 집중해야 할 것입니다.

특히 **시계열 분포 외삽, 강화학습 기반 온라인 적응, 마켓 메이킹 원리의 통합**과 같은 최신 기법들의 도입은 TradingAgents의 일반화 능력을 획기적으로 향상시킬 수 있을 것으로 예상됩니다.[11][5][2]

[1](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/65988149/1cc51342-ac1a-4cf1-b5a0-6d709c0a010b/2412.20138v7.pdf)
[2](https://arxiv.org/pdf/2503.13868.pdf)
[3](https://aclanthology.org/2025.finnlp-2.20.pdf)
[4](https://aclanthology.org/2025.findings-acl.716.pdf)
[5](https://arxiv.org/abs/2510.15949)
[6](https://arxiv.org/abs/2407.06567)
[7](https://dl.acm.org/doi/10.1145/3677052.3698688)
[8](https://ieeexplore.ieee.org/document/11207858/)
[9](https://ieeexplore.ieee.org/document/11169717/)
[10](https://arxiv.org/abs/2412.20138)
[11](https://www.semanticscholar.org/paper/351a23756b38baf89b10038d4d26ddd86646c343)
[12](https://arxiv.org/abs/2507.14995)
[13](https://dl.acm.org/doi/10.1145/3726302.3731950)
[14](https://ascopubs.org/doi/10.1200/JCO.2025.43.16_suppl.5108)
[15](https://arxiv.org/pdf/2412.20138.pdf)
[16](http://arxiv.org/pdf/2503.11951.pdf)
[17](https://arxiv.org/pdf/2309.03736.pdf)
[18](https://arxiv.org/html/2504.00587v1)
[19](http://arxiv.org/pdf/2309.17288.pdf)
[20](https://arxiv.org/pdf/2306.03314.pdf)
[21](https://arxiv.org/pdf/2311.06622.pdf)
[22](https://arxiv.org/abs/2408.14972)
[23](https://tauric.ai/research/tradingagents/)
[24](https://openreview.net/pdf/bf4d31f6b4162b5b1618ab5db04a32aec0bcbc25.pdf)
[25](https://openreview.net/pdf?id=iUjGNJzrF1)
[26](https://www.arxiv.org/pdf/2507.18417.pdf)
[27](https://proceedings.neurips.cc/paper_files/paper/2024/file/f7ae4fe91d96f50abc2211f09b6a7e49-Paper-Conference.pdf)
[28](https://www.digitalocean.com/resources/articles/tradingagents-llm-framework)
[29](https://www.themoonlight.io/en/review/tradingagents-multi-agents-llm-financial-trading-framework)
